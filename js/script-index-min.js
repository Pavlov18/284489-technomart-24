var buttonwrite=document.querySelector(".button-write-me"),popupform=document.querySelector(".modal-message"),closeWrite=document.querySelector(".modal-write-close"),buttonsBuy=document.querySelectorAll(".button-buy"),popupcart=document.querySelector(".modal-cart-add"),closePopup=document.querySelectorAll(".modal-add-close"),form=popupform.querySelector("[name=message-form]"),fullname=popupform.querySelector("[name=fullname]"),email=popupform.querySelector("[name=email]"),message=popupform.querySelector("[name=message]"),isStorageSupport=!0,storageName="",storageEmail="",userBlock=document.querySelector(".user-navigation"),login=userBlock.querySelector(".login"),logout=userBlock.querySelector(".logout"),buttonMap=document.querySelector(".button-map"),mapPopup=document.querySelector(".modal-map");buttonMap.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),login.addEventListener("click",function(e){e.preventDefault(),userBlock.classList.add("auth")}),logout.addEventListener("click",function(e){e.preventDefault(),userBlock.classList.remove("auth")});try{storageName=localStorage.getItem("fullname"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}buttonwrite.addEventListener("click",function(e){e.preventDefault(),popupform.classList.add("modal-show"),storageName?(fullname.value=storageName,storageEmail?(email.value=storageEmail,message.focus()):email.fucus()):fullname.focus()}),closeWrite.addEventListener("click",function(e){e.preventDefault(),popupform.classList.remove("modal-show"),popupform.classList.remove("modal-error")});for(var i=0;i<buttonsBuy.length;i++)buttonBuy=buttonsBuy[i],buttonBuy.addEventListener("click",function(e){e.preventDefault(),popupcart.classList.add("modal-show")});for(i=0;i<closePopup.length;i++)buttonClose=closePopup[i],buttonClose.addEventListener("click",function(e){e.preventDefault(),popupcart.classList.remove("modal-show"),mapPopup.classList.remove("modal-show")});form.addEventListener("submit",function(e){e.preventDefault(),fullname.value&&email.value&&message.value?isStorageSupport&&(localStorage.setItem("fullname",fullname.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popupform.classList.remove("modal-error"),popupform.offsetWidth=popupform.offsetWidth,popupform.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){if(27===e.keyCode){e.preventDefault();for(var t=document.querySelectorAll(".modal-show"),o=0;o<t.length;o++)t[0].classList.remove("modal-show")}});var slider=document.querySelector(".slider"),slides=slider.querySelectorAll(".slide"),slideRadio=document.getElementsByName("slide-radio"),btnBack=slider.querySelector(".slider-button-back"),btnNext=slider.querySelector(".slider-button-next"),sliderContent=slider.querySelector(".slider-content"),firstSlide=sliderContent.firstElementChild,finalSlide=sliderContent.lastElementChild;function slideButtons(){for(var e=0;e<slideRadio.length;e++)slideRadio[e].checked&&(currentCheck=slideRadio[e],nextRadio=slideRadio[e+1],prevRadio=slideRadio[e-1]),e===slideRadio.length-1&&(finalRadio=slideRadio[e]),0===e&&(firstRadio=slideRadio[e])}btnNext.addEventListener("click",function(e){e.preventDefault(),slideButtons(),currentCheck.checked=!1,currentCheck!=finalRadio?nextRadio.checked=!0:firstRadio.checked=!0}),btnBack.addEventListener("click",function(e){e.preventDefault(),slideButtons(),currentCheck.checked=!1,currentCheck!=firstRadio?prevRadio.checked=!0:finalRadio.checked=!0});