var buttonwrite=document.querySelector(".button-write-me"),popupform=document.querySelector(".modal-message"),closeWrite=document.querySelector(".modal-write-close"),buttonsBuy=document.querySelectorAll(".button-buy"),popupcart=document.querySelector(".modal-cart-add"),closePopup=document.querySelectorAll(".modal-add-close"),form=popupform.querySelector("[name=message-form]"),fullname=popupform.querySelector("[name=fullname]"),email=popupform.querySelector("[name=email]"),message=popupform.querySelector("[name=message]"),isStorageSupport=!0,storageName="",storageEmail="",userBlock=document.querySelector(".user-navigation"),login=userBlock.querySelector(".login"),logout=userBlock.querySelector(".logout"),buttonMap=document.querySelector(".button-map"),mapPopup=document.querySelector(".modal-map");buttonMap.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),login.addEventListener("click",function(e){e.preventDefault(),userBlock.classList.add("auth")}),logout.addEventListener("click",function(e){e.preventDefault(),userBlock.classList.remove("auth")});try{storageName=localStorage.getItem("fullname"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}buttonwrite.addEventListener("click",function(e){e.preventDefault(),popupform.classList.add("modal-show"),storageName?(fullname.value=storageName,storageEmail?(email.value=storageEmail,message.focus()):email.fucus()):fullname.focus()}),closeWrite.addEventListener("click",function(e){e.preventDefault(),popupform.classList.remove("modal-show"),popupform.classList.remove("modal-error")});for(var i=0;i<buttonsBuy.length;i++){var buttonBuy=buttonsBuy[i];buttonBuy.addEventListener("click",function(e){e.preventDefault(),popupcart.classList.add("modal-show")})}for(i=0;i<closePopup.length;i++){var buttonClose=closePopup[i];buttonClose.addEventListener("click",function(e){e.preventDefault(),popupcart.classList.remove("modal-show"),mapPopup.classList.remove("modal-show")})}form.addEventListener("submit",function(e){e.preventDefault(),fullname.value&&email.value&&message.value?isStorageSupport&&(localStorage.setItem("fullname",fullname.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popupform.classList.remove("modal-error"),popupform.offsetWidth=popupform.offsetWidth,popupform.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){if(27===e.keyCode){e.preventDefault();for(var t=document.querySelectorAll(".modal-show"),o=0;o<t.length;o++)t[0].classList.remove("modal-show")}});var slider=document.querySelector(".slider"),slides=slider.querySelectorAll(".slide"),slideRadio=document.getElementsByName("slide-radio"),btnBack=slider.querySelector(".slider-button-back"),btnNext=slider.querySelector(".slider-button-next"),sliderContent=slider.querySelector(".slider-content"),firstSlide=sliderContent.firstElementChild,finalSlide=sliderContent.lastElementChild;btnNext.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<slideRadio.length;t++){if(slideRadio[t].checked)var o=slideRadio[t],l=slideRadio[t+1];if(t===slideRadio.length-1)var a=slideRadio[t];if(0===t)var r=slideRadio[t]}o.checked=!1,o!=a?l.checked=!0:r.checked=!0}),btnBack.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<slideRadio.length;t++){if(slideRadio[t].checked)var o=slideRadio[t],l=slideRadio[t-1];if(t===slideRadio.length-1)var a=slideRadio[t];if(0===t)var r=slideRadio[t]}o.checked=!1,o!=r?l.checked=!0:a.checked=!0});